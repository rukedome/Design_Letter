<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mailbox Carousel</title>
  <link rel="stylesheet" href="./css/style.css">
  <style>
    body {
      background-color: #2C3E50;  
      font-size: 1rem;
    }

    main {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      flex-grow: 1;
      width: 100%;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
    }

    .carousel-container {
      width: 90%;
      max-width: 1200px;
      text-align: center;
      color: white;
    }

    h2 {
      margin-bottom: 50px;
      font-size: 3vw;
    }

    h3 {
      margin-bottom: 50px;
      font-size: 2vw;
      color: #FFFFFF;
      opacity: 0.5;
    }

    .carousel {
      position: relative;
      width: 100%;
      max-width: 100%;
      height: 500px;
      overflow: hidden;
      border: 2px solid #ffffff;
      border-radius: 10px;
      background-color: #345B8C;
      margin: 0 auto;
    }

    .carousel-images {
      display: flex;
      transition: transform 0.4s ease;
      height: 100%;
    }

    .carousel-images img {
      width: 280px;
      height: auto;
      margin: 10px;
      border-radius: 10px;
      cursor: pointer;
    }

    .prev-btn,
    .next-btn {
      position: absolute;
      top: 60%;
      transform: translateY(-50%);
      background-color: rgba(255, 255, 255, 0.8);
      border: none;
      font-size: 32px; /* 버튼 크기 확대 */
      cursor: pointer;
      padding: 20px; /* 버튼 크기 확대 */
      border-radius: 50%;
      color: #345B8C;
      user-select: none;
    }

    .prev-btn {
      left: 50px;
    }

    .next-btn {
      right: 50px;
    }

    .prev-btn:hover,
    .next-btn:hover {
      background-color: rgba(255, 255, 255, 1);
    }
  </style>
</head>

<body>
  <main>
    <div class="carousel-container">
      <h2>Mailboxes in our neighborhood</h2>
      <h3>Click the mailbox! It will show the location!</h3>
      <button class="prev-btn">&#10094;</button>
      <div class="carousel">
        <div class="carousel-images" id="carousel-images">
        </div>
      </div>
      <button class="next-btn">&#10095;</button>
    </div>
  </main>

  <script>
    const carouselImages = document.getElementById('carousel-images');
    const prevBtn = document.querySelector('.prev-btn');
    const nextBtn = document.querySelector('.next-btn');

    let currentIndex = 0;
    const imageCount = 8; // 이미지 총 개수
    const imageWidth = 280 + 20; // 이미지 가로 길이 + 여백

    // 이미지 10개 동적 생성 (예시로 좌표 추가)
    const mailboxLocations = [
      { lat: 37.7749, lng: -122.4194 }, // San Francisco, CA
      { lat: 34.0522, lng: -118.2437 }, // Los Angeles, CA
      { lat: 40.7128, lng: -74.0060 },  // New York, NY
      { lat: 51.5074, lng: -0.1278 },   // London, UK
      { lat: 48.8566, lng: 2.3522 },    // Paris, France
      { lat: 35.6895, lng: 139.6917 },  // Tokyo, Japan
      { lat: -33.8688, lng: 151.2093 }, // Sydney, Australia
      { lat: 55.7558, lng: 37.6173 },   // Moscow, Russia
      { lat: 52.5200, lng: 13.4050 },   // Berlin, Germany
      { lat: 45.4654, lng: 9.1859 }     // Milan, Italy
    ];


    for (let i = 1; i <= imageCount; i++) {
      const img = document.createElement('img');
      img.src = `./images/mailbox/mailbox${i}.jpg`;  // 이미지 파일 이름이 mailbox1.jpg, mailbox2.jpg 등의 형식으로 생성
      carouselImages.appendChild(img);

      // 이미지 클릭 시 해당 메일박스 위치의 구글 맵 링크로 이동
      img.addEventListener('click', () => {
        const location = mailboxLocations[i];
        const googleMapsUrl = `https://www.google.com/maps?q=${location.lat},${location.lng}`;
        window.open(googleMapsUrl, '_blank');
      });

      carouselImages.appendChild(img);
    }

    // 이미지 이동 로직
    nextBtn.addEventListener('click', () => {
        if (currentIndex < imageCount - 1) {
            currentIndex++;
            carouselImages.style.transform = `translateX(${-currentIndex * imageWidth}px)`;
        }
    });

    prevBtn.addEventListener('click', () => {
        if (currentIndex > 0) {
            currentIndex--;
            carouselImages.style.transform = `translateX(${-currentIndex * imageWidth}px)`;
        }
    });
  </script>
</body>

</html>